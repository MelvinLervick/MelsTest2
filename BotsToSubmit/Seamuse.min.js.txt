function createBot(n){function i(t,i){switch(t){case 1:(u==1||u==3||u==6)&&n(i);break;case 2:(u==2||u==3||u==7)&&n(i);break;case 4:u==4&&n(i);break;case 5:u==5&&n(i)}}function d(n,r,u,f,e,o){var s=t[u.row][u.col];i(n,r+u.id+":CL"+s.myChainLength+"***["+u.row+","+u.col+"]"+o+","+e.maxFight+" B:"+u.boost+","+u.boostUsed+" Team:"+s.team+" Visitors:"+s.numVisitors+" Ticks/Goal/tickTeam: "+Math.floor(s.ticks)+"/"+s.goalTicks+"/"+s.tickTeam+" OwnedBy{"+s.tilesNotOwned+","+s.tilesOwnedByTeam+","+s.tilesOwnedByOther+"} Neigbors:"+s.numMyConnections)}function tt(n){var i=[],t;for(t in n)n.hasOwnProperty(t)&&i.push(t);return i}function it(n,t){var r=tt(n.visitors),f=[],i,e,o,u;if(r.length>0)for(i=0,e=0;i<r.length;++i)o=r[i],u=n.visitors[o],t.id!==u.id&&(f[e++]=u.id);return f}function g(n,t){return t.col=Math.floor(Math.random()*20),t.row=Math.floor(Math.random()*16),i(1,"Random Select["+t.row+","+t.col+"]"+n),!0}function b(n,t){return n>-1&n<16&&t>-1&&t<20?!0:!1}function f(n,t){var i=.3*n;return t>i?2:1}function rt(n){var t=5;return n<100?t=1:n<200?t=2:n<300?t=3:n<600&&(t=4),t}function ut(n,t,i){var r,u;t.row===-1||t.col===-1?t.boost=t.boostUsed<20?2:0:(r=n[t.row][t.col],r.numVisitors===0?t.boost=t.boostUsed<20?2:0:(u=c(i,r.visitorsIds[0]),t.boost=t.boostUsed<u.boostUsed&&r.ticks<r.goalTicks?3:0))}function ft(n,t,i,r){var s=n[i][r],e=[],a={},v=0,h=!1,u,f,c,l,o;if(s.type!=-1)for(e.push(s);e.length>0;)if(u=e.pop(),h=!1,a[u.id]===undefined)for(a[u.id]=!0,s.myChain.push(u),u.team==t.id&&v++,u.myConnections.length===0&&(h=!0),f=0;f<8;++f)c=u.row+w[f][0],l=u.col+w[f][1],b(c,l)&&(o=n[c][l],o.type==u.type&&(e.push(o),h&&u.myConnections.push(o)));return v}function et(n,i){var u,e,r,s;for(t=ht(n,o,p),u=0;u<o;u++)for(e=0;e<p;e++)if(r=t[u][e],r.myChainLength===-1)for(r.tilesOwnedByTeam=ft(t,i,u,e),r.myChainLength=r.myChain.length,r.numMyConnections=r.myConnections.length,r.stage=f(8,r.myChainLength),r.visitorsIds=it(r,i),r.numVisitors=r.visitorsIds.length,s=0;s<r.myChainLength;s++)tile=r.myChain[s],tile.team==0?r.tilesNotOwned++:tile.team!=i.id&&r.tilesOwnedByOther++;nt(n,!0),nt(t,!1)}function s(n,t){var r=0,i,u;if(n!==undefined)for(i=0;i<t;i++)u=n[i],u.numVisitors>r&&(r=u.numVisitors);return r}function l(r,u){var o=0,s=!1,e,h,c,f;u==1?(h={a:15,b:13,c:11,d:9,e:7,f:5,g:1,h:14,i:12,j:10,k:8,l:6,m:4,n:2,o:0},c={z:19,y:17,a:15,b:13,c:11,d:9,e:7,f:5,g:1,x:18,w:16,h:14,i:12,j:10,k:8,l:6,m:4,n:2,o:0}):(h={b:13,c:11,d:9,e:7,f:5,g:3,i:12,j:10,k:8,l:6,m:4,n:2},c={y:17,a:15,b:13,c:11,d:9,e:7,f:5,g:3,w:16,h:14,i:12,j:10,k:8,l:6,m:4,n:2});try{for(rrr in h)for(ccc in c)row=h[rrr],col=c[ccc],f=t[row][col],f.myChainLength>0&&f.myChainLength>o&&(f.tilesOwnedByTeam>f.tilesOwnedByOther||f.tilesOwnedByOther==0)&&f.tilesNotOwned>0&&(o=f.myChainLength,e=f,u==2?o>3&&(s=!0):o>2&&(s=!0));s?(i(2,"BEST chainTile Select["+e.row+","+e.col+"]"+e.myChainLength+"  Visitors:"+e.numVisitors),r.row=e.row,r.col=e.col):i(1,"NO BEST chainTile WAS FOUND.")}catch(l){n("ERROR IN GET BEST "+l.message)}return s}function a(n,r){var e=!1,f=t[r.row][r.col],c,o,h,u;if(f!==undefined&&f.myChainLength>2&&f.type!=-1&&s(f.myChain,f.myChainLength)<3)for(c=f.myChainLength>8?8:f.myChainLength,o=c;o>0&&!e;o--)for(h=f.myChainLength-1;h>0&&!e;h--)if((u=f.myChain[h],u.numMyConnections==o)&&u.team!=n.id&&(u.row!=r.row||u.col!=r.col)){if(u.numVisitors>0)return e;u.type!=-1&&(i(1,"chainTile Select["+u.row+","+u.col+"]"+f.myChainLength+"  Visitors:"+t[u.row][u.col].numVisitors),n.row=u.row,n.col=u.col,e=!0)}return e}function v(n,t,r,u){var f=!1,e;return t.myChainTiles===undefined&&(e=u.type,w.forEach(function(t){if(!f){var u=r.row+t[0],o=r.col+t[1];b(u,o)&&n[u][o].type!=-1&&n[u][o].team!=r.id&&n[u][o].type==e&&(i(1,"No Chain neighborOffset Select["+u+","+o+"] MyType::"+n[u][o].type+":"+e),r.row=u,r.col=o,f=!0)}})),f}function ot(n,t){t.push(n[2][2]),t.push(n[2][5]),t.push(n[2][8]),t.push(n[2][11]),t.push(n[2][14]),t.push(n[2][17]),t.push(n[5][2]),t.push(n[5][5]),t.push(n[5][8]),t.push(n[5][11]),t.push(n[5][14]),t.push(n[5][17]),t.push(n[8][2]),t.push(n[8][5]),t.push(n[8][8]),t.push(n[8][11]),t.push(n[8][14]),t.push(n[8][17]),t.push(n[11][2]),t.push(n[11][5]),t.push(n[11][8]),t.push(n[11][11]),t.push(n[11][14]),t.push(n[11][17]),t.push(n[14][2]),t.push(n[14][5]),t.push(n[14][8]),t.push(n[14][11]),t.push(n[14][14]),t.push(n[14][17])}function h(n,t,r){for(var f=!1,h,e,u,o=30,s=o;!f&&s>0;)s--,h=Math.floor(Math.random()*o),e=t[Math.floor(Math.random()*o)],u=n[e.row][e.col],u.type!=-1&&u.team!==r.id&&u.numVisitors<1&&(i(1,"Core Tile["+u.row+","+u.col+"] was selected."),r.row=u.row,r.col=u.col,f=!0);return f}function y(n,t,r){for(var e=!1,u,f=t.length,s=f,o;!e&&f>0;)f--,o=Math.floor(Math.random()*f),u=t[Math.floor(Math.random()*f)],u.type!=-1&&u.team!==r.id&&u.numVisitors<1&&(i(1,"RANDOM workTile["+u.row+","+u.col+"] was selected."),r.row=u.row,r.col=u.col,e=!0);return e}function st(n,t){return n.stop===undefined&&(n.stop=!1),t!==undefined&&(t==="pause"?n.stop=!0:(t.indexOf("debug")!=-1&&(u=parseInt(t.replace("debug",""),10)),n.stop=!1)),n.stop}function ht(n,t,i){for(var f=[],u,r=0;r<t;r++)for(f[r]=[],u=0;u<i;++u)f[r][u]=n[r][u],f[r][u].myChain=[],f[r][u].myChainLength=-1,f[r][u].myConnections=[],f[r][u].numMyConnections=0,f[r][u].visitorsIds=0,f[r][u].numVisitors=0,f[r][u].tilesNotOwned=0,f[r][u].tilesOwnedByTeam=0,f[r][u].tilesOwnedByOther=0,f[r][u].stage=0;return f}function ct(n,t){for(var r,i=0;i<o;i++)t.push(n[i][o-1]),t.push(n[i][0]);for(r=1;r<p-1;r++)t.push(n[o-1][r]),t.push(n[0][r])}function nt(n,t){for(var e=20,f="",r,u=0;u<16;u++){if(f+="Row"+u+"  ",t)for(r=0;r<e;r++)f+=n[u][r].type+":"+n[u][r].team+"  ";else for(r=0;r<e;++r)for(r=0;r<e;r++)f+=n[u][r].type+":"+n[u][r].team+":"+n[u][r].myChainLength+"  ";i(4,f),f=""}}function lt(n,u,f,o,s){var c=!1;if(persistentStore.initialized||(persistentStore.maxFight=r,persistentStore.framesLeft=0,persistentStore.bankCount=0,persistentStore.coreTiles=[],ot(f,persistentStore.coreTiles),persistentStore.gameType=rt(s),persistentStore.initialized=!0),persistentStore.framesLeft<s&&(persistentStore.maxFrames=s,persistentStore.bankCount++,i(5,"Bank count is "+persistentStore.bankCount)),(n.row===-1||n.col===-1)&&(persistentStore.maxFight=r,h(f,persistentStore.coreTiles,n)&&(n.boost=0,i(2,"RETURN core tile PLAYER["+n.row+","+n.row+",B"+n.boost+"]"),c=!0),!c)){while(n.row===-1||n.col===-1||f[n.row][n.col].type===-1)g("TOP",n);n.boost=0,i(2,"RETURN TOP RANDOM PLAYER["+n.row+","+n.row+",B"+n.boost+"]"),c=!0}return c||(et(f,n),ct(t,e)),c}function c(n,t){for(var i=0;i<n.length;i++)if(n[i].id==t)return n[i];return n[0]}function at(n,t,u){var e=!1,f=n[t.row][t.col],h,l=5,o=0;return f.numVisitors>0&&(h=c(u,f.visitorsIds[0])),persistentStore.maxFight<0?(e=!0,o=1):f.numVisitors==0?f.team==t.id&&f.goalTicks==0&&f.goalTicks==0&&f.tickTeam==0&&f.numMyConnections<l?(e=!0,o=7):f.team==t.id&&f.goalTicks==0&&f.goalTicks==0&&f.tickTeam==0&&f.strength==1?(e=!0,o=8):f.ticks<f.goalTicks||f.goalTicks==0?s(f.myChain,f.myChainLength)>0?(e=!0,o=9):(f.goalTicks==0&&f.numMyConnections>=l&&(persistentStore.maxFight=r),o=2):(e=!0,o=3):f.tickTeam!==t.id?(e=!0,o=4):f.numVisitors>1?(e=!0,o=5):t.boostUsed>h.boostUsed&&(e=!0,o=6),i(2,"getNewTile:: getNewFlag:"+(e?"TRUE:":"FALSE:")+o+" maxFight:"+persistentStore.maxFight+" numVisitors:"+f.numVisitors+" numMyConnections:"+f.numMyConnections+" Strength:"+f.strength+" ticks/Goal/tickTeam: "+Math.floor(f.ticks)+","+f.goalTicks+","+f.tickTeam+" player{"+t.id+","+t.boost+","+t.boostUsed+"}"+(f.numVisitors>0?" visitor1{"+h.id+","+h.boost+","+h.boostUsed+"}":"NO VISITORS")),e}function vt(n,i,u,o,s){var c=!1,p=u[n.row][n.col],w=f(persistentStore.maxFrames,s);return at(t,n,i)?(c||(c=a(n,p)),c||(c=l(n,w),persistentStore.maxFight=r),c||(c=y(t,e,n)),c||(c=h(t,persistentStore.coreTiles,n)),c||(c=v(u,persistentStore,n,p)),c&&(persistentStore.maxFight=r)):(persistentStore.maxFight--,c=!0),c}function yt(n,t,u){var e=!1,f=n[t.row][t.col],h,l=4,o=0;return f.numVisitors>0&&(h=c(u,f.visitorsIds[0])),persistentStore.maxFight<0?(e=!0,o=1):f.numVisitors==0?f.team==t.id&&f.goalTicks==0&&f.goalTicks==0&&f.tickTeam==0&&f.numMyConnections<l?(e=!0,o=7):f.team==t.id&&f.goalTicks==0&&f.goalTicks==0&&f.tickTeam==0&&f.strength==1?(e=!0,o=8):f.ticks<f.goalTicks||f.goalTicks==0?s(f.myChain,f.myChainLength)>0?(e=!0,o=9):(f.goalTicks==0&&f.numMyConnections>=l&&(persistentStore.maxFight=r),o=2):(e=!0,o=3):f.tickTeam!==t.id?(e=!0,o=4):f.numVisitors>1?(e=!0,o=5):t.boostUsed>h.boostUsed&&(e=!0,o=6),i(2,"getNewTile:: getNewFlag:"+(e?"TRUE:":"FALSE:")+o+" maxFight:"+persistentStore.maxFight+" numVisitors:"+f.numVisitors+" numMyConnections:"+f.numMyConnections+" Strength:"+f.strength+" ticks/Goal/tickTeam: "+Math.floor(f.ticks)+","+f.goalTicks+","+f.tickTeam+" player{"+t.id+","+t.boost+","+t.boostUsed+"}"+(f.numVisitors>0?" visitor1{"+h.id+","+h.boost+","+h.boostUsed+"}":"NO VISITORS")),e}function pt(n,i,u,o,s){var c=!1,p=u[n.row][n.col],w=f(persistentStore.maxFrames,s);return yt(t,n,i)?(c||(c=a(n,p)),c||(c=l(n,w),persistentStore.maxFight=r),c||(c=y(t,e,n)),c||(c=h(t,persistentStore.coreTiles,n)),c||(c=v(u,persistentStore,n,p)),c&&(persistentStore.maxFight=r)):(persistentStore.maxFight--,c=!0),c}function wt(n,t,u){var e=!1,f=n[t.row][t.col],h,l=4,o=0;return f.numVisitors>0&&(h=c(u,f.visitorsIds[0])),persistentStore.maxFight<0?(e=!0,o=1):f.numVisitors==0?f.team==t.id&&f.goalTicks==0&&f.goalTicks==0&&f.tickTeam==0&&f.numMyConnections<l?(e=!0,o=7):f.team==t.id&&f.goalTicks==0&&f.goalTicks==0&&f.tickTeam==0&&f.strength==1?(e=!0,o=8):f.ticks<f.goalTicks||f.goalTicks==0?s(f.myChain,f.myChainLength)>0?(e=!0,o=9):(f.goalTicks==0&&f.numMyConnections>=l&&(persistentStore.maxFight=r),o=2):(e=!0,o=3):f.tickTeam!==t.id?(e=!0,o=4):f.numVisitors>1?(e=!0,o=5):t.boostUsed>h.boostUsed&&(e=!0,o=6),i(2,"getNewTile:: getNewFlag:"+(e?"TRUE:":"FALSE:")+o+" maxFight:"+persistentStore.maxFight+" numVisitors:"+f.numVisitors+" numMyConnections:"+f.numMyConnections+" Strength:"+f.strength+" ticks/Goal/tickTeam: "+Math.floor(f.ticks)+","+f.goalTicks+","+f.tickTeam+" player{"+t.id+","+t.boost+","+t.boostUsed+"}"+(f.numVisitors>0?" visitor1{"+h.id+","+h.boost+","+h.boostUsed+"}":"NO VISITORS")),e}function bt(n,i,u,o,s){var c=!1,p=u[n.row][n.col],w=f(persistentStore.maxFrames,s);return wt(t,n,i)?(c||(c=a(n,p)),c||(c=l(n,w),persistentStore.maxFight=r),c||(c=y(t,e,n)),c||(c=h(t,persistentStore.coreTiles,n)),c||(c=v(u,persistentStore,n,p)),c&&(persistentStore.maxFight=r)):(persistentStore.maxFight--,c=!0),c}function kt(n,t,u){var e=!1,f=n[t.row][t.col],h,l=4,o=0;return f.numVisitors>0&&(h=c(u,f.visitorsIds[0])),persistentStore.maxFight<0?(e=!0,o=1):f.numVisitors==0?f.team==t.id&&f.goalTicks==0&&f.goalTicks==0&&f.tickTeam==0&&f.numMyConnections<l?(e=!0,o=7):f.team==t.id&&f.goalTicks==0&&f.goalTicks==0&&f.tickTeam==0&&f.strength==1?(e=!0,o=8):f.ticks<f.goalTicks||f.goalTicks==0?s(f.myChain,f.myChainLength)>0?(e=!0,o=9):(f.goalTicks==0&&f.numMyConnections>=l&&(persistentStore.maxFight=r),o=2):(e=!0,o=3):f.tickTeam!==t.id?(e=!0,o=4):f.numVisitors>1?(e=!0,o=5):t.boostUsed>h.boostUsed&&(e=!0,o=6),i(2,"getNewTile:: getNewFlag:"+(e?"TRUE:":"FALSE:")+o+" maxFight:"+persistentStore.maxFight+" numVisitors:"+f.numVisitors+" numMyConnections:"+f.numMyConnections+" Strength:"+f.strength+" ticks/Goal/tickTeam: "+Math.floor(f.ticks)+","+f.goalTicks+","+f.tickTeam+" player{"+t.id+","+t.boost+","+t.boostUsed+"}"+(f.numVisitors>0?" visitor1{"+h.id+","+h.boost+","+h.boostUsed+"}":"NO VISITORS")),e}function dt(n,i,u,o,s){var c=!1,p=u[n.row][n.col],w=f(persistentStore.maxFrames,s);return kt(t,n,i)?(c||(c=a(n,p)),c||(c=l(n,w),persistentStore.maxFight=r),c||(c=y(t,e,n)),c||(c=h(t,persistentStore.coreTiles,n)),c||(c=v(u,persistentStore,n,p)),c&&(persistentStore.maxFight=r)):(persistentStore.maxFight--,c=!0),c}function gt(n,t,u){var e=!1,f=n[t.row][t.col],h,l=4,o=0;return f.numVisitors>0&&(h=c(u,f.visitorsIds[0])),persistentStore.maxFight<0?(e=!0,o=1):f.numVisitors==0?f.team==t.id&&f.goalTicks==0&&f.goalTicks==0&&f.tickTeam==0&&f.numMyConnections<l?(e=!0,o=7):f.team==t.id&&f.goalTicks==0&&f.goalTicks==0&&f.tickTeam==0&&f.strength==1?(e=!0,o=8):f.ticks<f.goalTicks||f.goalTicks==0?s(f.myChain,f.myChainLength)>0?(e=!0,o=9):(f.goalTicks==0&&f.numMyConnections>=l&&(persistentStore.maxFight=r),o=2):(e=!0,o=3):f.tickTeam!==t.id?(e=!0,o=4):f.numVisitors>1?(e=!0,o=5):t.boostUsed>h.boostUsed&&(e=!0,o=6),i(2,"getNewTile:: getNewFlag:"+(e?"TRUE:":"FALSE:")+o+" maxFight:"+persistentStore.maxFight+" numVisitors:"+f.numVisitors+" numMyConnections:"+f.numMyConnections+" Strength:"+f.strength+" ticks/Goal/tickTeam: "+Math.floor(f.ticks)+","+f.goalTicks+","+f.tickTeam+" player{"+t.id+","+t.boost+","+t.boostUsed+"}"+(f.numVisitors>0?" visitor1{"+h.id+","+h.boost+","+h.boostUsed+"}":"NO VISITORS")),e}function ni(n,i,u,o,s){var c=!1,p=u[n.row][n.col],w=f(persistentStore.maxFrames,s);return gt(t,n,i)?(c||(c=a(n,p)),c||(c=l(n,w),persistentStore.maxFight=r),c||(c=y(t,e,n)),c||(c=h(t,persistentStore.coreTiles,n)),c||(c=v(u,persistentStore,n,p)),c&&(persistentStore.maxFight=r)):(persistentStore.maxFight--,c=!0),c}var k="Seamuse",u=0,t=[],e=[],o=16,p=20,r=20,w=[[-1,-1],[-1,0],[-1,1],[0,1],[1,1],[1,0],[1,-1],[0,-1]];return{name:k,doBehavior:function(r,u,e,o,s){var h=!1;if(h=lt(r,u,e,o,s),h)return{outX:r.col,outY:r.row,outB:r.boost};var c=t[r.row][r.col],l=c.numVisitors,a=f(persistentStore.maxFrames,s);if(d(2,"START SELECTION         for Player: ",r,t,persistentStore,s),st(persistentStore,o))return n("Bot "+k+" is PAUSED."),i(2,"RETURN paused PLAYER["+r.row+","+r.row+",B"+r.boost+"]"),{outX:r.col,outY:r.row,outB:r.boost};switch(persistentStore.gameType){case 1:h=vt(r,u,e,o,s);break;case 2:h=pt(r,u,e,o,s);break;case 3:h=bt(r,u,e,o,s);break;case 4:h=dt(r,u,e,o,s);break;default:h=ni(r,u,e,o,s)}return h||(h=g("BOTTOM",r)),ut(t,r,u),d(2,"RETURN PLAYER SELECTION for Player: ",r,t,persistentStore,s),persistentStore.framesLeft=s,{outX:r.col,outY:r.row,outB:r.boost}}}}
//@ sourceMappingURL=Seamuse.min.js.map